# webhook-repo
This project is implemented using Pycharm, Flask, Mongodb(Atlas Cluster), Github, and Html. This project was completely developed in Virtual Environment!.

# How to Setup the project.
## Preliminary Steps: Ensure the action-repo on GitHub is open, and fork this repository into another GitHub account. Also, have your MongoDB (Atlas Cluster) open.
1. Load the complete repository, except for the UI-program-Mongodb folder, into PyCharm (or a similar IDE) within a virtual environment.
2. Expose port 5000 to the world using Cloudflared instead of Ngrok. (Download the cloudflared-windows-amd64 file.)
3. Open CMD in user mode, navigate to the folder where the cloudflared-windows-amd64 file is stored, and run the command: .\cloudflared-windows-amd64.exe tunnel --url localhost:5000
4. This command will expose your localhost:5000 to the world, and a URL will be generated in CMD.
5. Copy the generated URL from CMD and paste it into the action-repo under Settings â†’ Webhook.
6. The URL to be pasted into the webhook should be in the following format: <generated_url>/webhook/receiver  Also, configure the webhook to trigger on Push and Pull Request actions.
7. Run the project (which will run on port 5000), and simultaneously load the UI-program-Mongodb folder in a new project, running it on port 5001.
8. Open the link generated by the UI-program-Mongodb project and monitor the results in MongoDB.
9. Start pushing and creating pull requests on the action-repo on GitHub. The project will handle everything, updating MongoDB, while the UI-program-Mongodb project will continuously fetch the latest data every 15 seconds.

# Working of the Project:
When eveything is running:
1. During a PUSH, Pull Request, or Merge action on the repository, an event is sent to the URL being used as a webhook.
2. Our Flask application then selects the required fields and formats the timestamp.
3. After that, it updates the data in MongoDB.

# Working Of UI-program-Mongodb project.
1. In this setup, Flask works as the backend, and HTML is used for the frontend.
2. An event is sent to the /latest_entry endpoint in Flask every 15 seconds, which fetches the latest entry from MongoDB.
3. The fetched entry from MongoDB is then passed to the HTML, and based on the action, the corresponding message is displayed.

